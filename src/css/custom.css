/*
 * Neo-Design Integration
 *
 * Maps @moderneinc/neo-design tokens to Docusaurus/Infima variables.
 * Neo variables loaded via docusaurus.config.ts stylesheets.
 *
 * Guidelines:
 * - Use var(--neo-*) without fallbacks so missing tokens fail visibly
 * - Brand overrides (--brand-*) for colors not in Neo: mint green, midnight, lavender
 * - Avoid !important; document exceptions inline when unavoidable
 */

@font-face {
    font-family: 'Beausite';
    src: url('https://cdn.prod.website-files.com/664e62fe66f5b31edc6c3aeb/664e7a833d9ad9fa2febd048_BeausiteSlickWeb-Light.woff2') format('woff2'), url('https://cdn.prod.website-files.com/664e62fe66f5b31edc6c3aeb/664e7a830c62d5d188a8f45a_BeausiteSlickWeb-Light.woff') format('woff');
    font-weight: 300;
    font-style: normal;
    font-display: swap;
}

/* You can override the default Infima variables here. */
:root {
  /* BRAND: Custom light blue/lavender background from Figma */
  --ifm-background-color: #f7f7fe;
  --background: #f7f7fe; /* Figma design token */

  /* BRAND: Preserve mint accent - no Neo-Design mapping */
  --ifm-color-mint: #85FE99;
  --brand-digital-green: #85fe98; /* Primary green from Figma design */
  --brand-digital-blue: var(--neo-brand); /* Primary blue from Neo Design */
  --brand-midnight: #041834; /* Midnight color from Figma design */
  --brand-dark-lavender: #d4d3e4; /* Dark lavender border color from Figma design */

  /* Neo-design: Primary blue scale */
  --ifm-color-primary: var(--neo-digital-blue-500);
  --ifm-color-primary-dark: var(--neo-digital-blue-700);
  --ifm-color-primary-darker: var(--neo-digital-blue-800);
  --ifm-color-primary-darkest: var(--neo-digital-blue-900);
  --ifm-color-primary-light: var(--neo-digital-blue-300);
  --ifm-color-primary-lighter: var(--neo-digital-blue-200);
  --ifm-color-primary-lightest: var(--neo-digital-blue-100);

  /* Neo-design: Border colors */
  --ifm-color-border: var(--neo-border-primary);

  /* !important: Neo package default differs from production design */
  --neo-border-secondary: rgba(4, 24, 52, 0.3) !important;

  --ifm-code-font-size: 95%;

  /* Neo-design: Typography colors */
  --ifm-color-base: var(--neo-typography-input-default);
  --ifm-color-content: var(--ifm-color-base);
  --docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.1);
  --ifm-color-announcement-bar-bg: var(--ifm-color-mint);

  /* Neo-Design: Announcement bar text */
  --ifm-color-announcement-bar-text: var(--neo-typography-input-default);

  --ifm-navbar-background-color: transparent;
  --ifm-navbar-padding-vertical: 0;
  --ifm-navbar-padding-horizontal: 32px;
  --ifm-navbar-item-padding-horizontal: 1.4rem;
  --ifm-navbar-height: 37px;
  --ifm-secondary-nav-height: 48px;

  /* Neo-Design: Typography family and weights */
  --ifm-font-family-base: var(--neo-font-family-body), sans-serif;
  --ifm-heading-font-weight: var(--neo-font-weight-regular);
  --ifm-heading-line-height: 1.25;

  /* Neo-Design: Heading color */
  --ifm-heading-color: var(--neo-typography-input-default);

  --ifm-font-weight-bold: var(--neo-font-weight-semi-bold);
  --ifm-footer-padding-vertical: 2.375rem;
  --ifm-footer-background-color: transparent;

  --ifm-menu-color-background-hover: transparent;
  --ifm-menu-color-background-active: transparent;

  /* Neo-Design: Link color */
  --ifm-link-color: var(--neo-typography-link-primary);

  --ifm-link-hover-color: var(--ifm-color-content);

  /* Neo-Design: Menu/navigation text */
  --ifm-menu-color: var(--neo-typography-navigation-default);

  /* Neo-design: Active menu items */
  --ifm-menu-color-active: var(--ifm-link-color);

  --ifm-navbar-link-color: var(--ifm-heading-color);
  --ifm-navbar-shadow: none;
  --ifm-toc-border-color: transparent;

  /* Neo-design: Section dividers */
  --ifm-section-divider-color: var(--neo-border-secondary);

  /* Emphasis colors for light mode */
  --ifm-color-emphasis-600: rgba(4, 24, 52, 0.6);

  /* Hover overlay for light mode */
  --ifm-hover-overlay: rgba(0, 0, 0, 0.05);
}

/* Use selector for specificity */
html.docs-wrapper {
  --doc-sidebar-width: 307px;
}

/* Use selector for specificity */
html[data-theme=light] {
  --docsearch-searchbox-background: var(--neo-surfaces-white);
  --docsearch-muted-color: rgba(4, 24, 52, 0.75);
}

/* Algolia DocSearch - Pill Shape Styling */
.DocSearch-Button {
  width: 232px;
  height: 44px;
  border-radius: 64px;
  background: var(--neo-surfaces-white);
  border: 1px solid var(--neo-grey-100);
  padding: 0 16px;
  margin: 0;
  box-shadow: var(--neo-shadow-neutral-small);
}

.DocSearch-Button:hover {
  background: var(--neo-surfaces-white);
  box-shadow: var(--neo-shadow-neutral-small), 0 0 0 1px var(--ifm-color-border);
}

.DocSearch-Button-Container {
  display: flex;
  align-items: center;
  gap: 8px;
}

.DocSearch-Search-Icon {
  width: 20px;
  height: 20px;
  color: rgba(4, 24, 52, 0.5);
}

.DocSearch-Button-Placeholder {
  font-size: 14px;
  font-weight: 400;
  color: rgba(4, 24, 52, 0.5);
  padding: 0;
}

.DocSearch-Button-Keys {
  display: flex;
  align-items: center;
  gap: 4px;
  min-width: auto;
}

.DocSearch-Button-Key {
  background: var(--neo-grey-100);
  border: 1px solid var(--neo-grey-200);
  border-radius: 4px;
  padding: 4px 8px;
  font-family: var(--neo-font-family-body), system-ui, -apple-system, sans-serif;
  font-size: 12px;
  font-weight: 500;
  color: var(--neo-grey-800);
  box-shadow: none;
  min-width: auto;
  width: auto;
}

/* Mobile: Collapse search to icon only, no background */
@media (max-width: 996px) {
  .DocSearch-Button {
    width: auto;
    padding: 0;
    justify-content: center;
    background: transparent;
    border: none;
    box-shadow: none;
  }

  .DocSearch-Button:hover {
    background: transparent;
    box-shadow: none;
  }

  .DocSearch-Button-Placeholder,
  .DocSearch-Button-Keys {
    display: none;
  }

  .DocSearch-Button-Container {
    gap: 0;
  }
}

/* For readability concerns, you should choose a lighter palette in dark mode. */
html[data-theme='dark'] {
  /* BRAND: Custom dark background */
  --ifm-background-color: #041834;

  /* Neo-Design: Primary colors for dark mode */
  --ifm-color-primary: var(--neo-digital-blue-300);
  --ifm-color-primary-dark: var(--neo-digital-blue-400);
  --ifm-color-primary-darker: var(--neo-digital-blue-500);
  --ifm-color-primary-darkest: var(--neo-digital-blue-600);
  --ifm-color-primary-light: var(--neo-digital-blue-200);
  --ifm-color-primary-lighter: var(--neo-digital-blue-100);
  --ifm-color-primary-lightest: var(--neo-digital-blue-50);

  --docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.3);
  --ifm-color-base: var(--neo-surfaces-white);
  --ifm-heading-color: var(--neo-surfaces-white);
  --ifm-menu-color: var(--neo-surfaces-white);

  /* BRAND: Preserve mint accent for dark mode links */
  --ifm-link-color: #85fe99;

  --ifm-toc-border-color: transparent;

  /* Neo-Design: Dark mode borders */
  --ifm-color-border: rgba(255, 255, 255, 0.2);
  --ifm-section-divider-color: var(--neo-border-primary);

  /* Emphasis colors for dark mode */
  --ifm-color-emphasis-600: rgba(255, 255, 255, 0.7);

  /* Hover overlay for dark mode */
  --ifm-hover-overlay: rgba(255, 255, 255, 0.05);

  --ifm-card-background-color: var(--neo-surfaces-white);
  --ifm-heading-line-height: 1.25;
  .theme-code-block {
    border: 1.5px solid var(--ifm-color-border);
  }

  /* Algolia DocSearch - Dark Mode Pill Styling */
  .DocSearch-Button {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }

  @media (max-width: 996px) {
    .DocSearch-Button {
      background: transparent;
      border: none;
    }
  }

  .DocSearch-Button:hover {
    background: rgba(255, 255, 255, 0.15);
    box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.3);
  }

  .DocSearch-Search-Icon {
    color: rgba(255, 255, 255, 0.6);
  }

  .DocSearch-Button-Placeholder {
    color: rgba(255, 255, 255, 0.6);
  }

  .DocSearch-Button-Key {
    background: rgba(255, 255, 255, 0.15);
    border: 1px solid rgba(255, 255, 255, 0.25);
    color: rgba(255, 255, 255, 0.9);
  }
}

figure img {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

figure figcaption {
  text-align: center;
}

.reactPlayer {
  margin: auto;
}

/* Zoomed image background */
[data-rmiz-modal-content] {
  background-color: var(--neo-surfaces-black);
}

#__docusaurus {
  overflow: clip;
}

/* Push main content below fixed navbar */
.main-wrapper {
  margin-top: calc(var(--ifm-navbar-height) + var(--neo-spacing_2));
  min-height: calc(100vh - var(--ifm-navbar-height) - var(--neo-spacing_2));
}

/* Ensure sidebar container has correct height calculation */
.theme-doc-sidebar-container {
  position: sticky;
  top: var(--neo-spacing_3);
  height: calc(100vh - var(--ifm-navbar-height));
  align-self: flex-start;
}

/* Fix sidebar border to not extend behind navbar */
@media (min-width: 997px) {
  .theme-doc-sidebar-container {
    border-right: none !important;
    /* Note: position must remain sticky (set above) for sidebar to stay fixed while scrolling */
  }

  .theme-doc-sidebar-container::after {
    content: '';
    position: absolute;
    right: 0;
    top: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--ifm-toc-border-color);
  }
}

/* Doc main container padding for breathing room */
[class*="docMainContainer"] {
  padding-top: var(--neo-spacing_4);
}

.reactPlayer + p {
  margin-top: 1.25rem;
}

[class^=docMainContainer_] {
  font-size: var(--neo-font-size-default);
}

/* Apply flexbox with 32px gap between breadcrumbs and document content */
[class*="docItemContainer"] article {
  display: flex;
  flex-direction: column;
  gap: var(--neo-spacing_4);
}

[class^=docMainContainer_] h1 {
  font-size: var(--neo-font-size-h1);
  font-weight: var(--neo-font-weight-medium);
}

[class^=docMainContainer_] h2:not(.doc-card-title) {
  font-family: var(--neo-font-family-heading), sans-serif;
  font-size: var(--neo-font-size-h2);
  font-weight: var(--neo-font-weight-medium);
  line-height: calc(var(--neo-line-height-xl) * 1px); /* neo is in pixels */
  color: var(--neo-typography-input-default);
}
[class^=docMainContainer_] h3:not(.doc-card-title) {
  font-size: var(--neo-font-size-h3);

}

/* !important: --ifm-heading-color inheritance doesn't update for dynamic content */
html[data-theme='dark'] [class^=docMainContainer_] h1 {
  color: var(--neo-surfaces-white) !important;
}

html[data-theme='dark'] [class^=docMainContainer_] h2:not(.doc-card-title) {
  color: var(--neo-surfaces-white);
}

html[data-theme='dark'] [class^=docMainContainer_] .card {
  --ifm-heading-color: var(--brand-midnight);
}

.markdown {
  --ifm-heading-font-family: var(--neo-font-family-body), sans-serif;
  --ifm-heading-font-weight: 300;
  --ifm-link-decoration: underline;
}

.markdown h1:first-child {
  margin-bottom: 1.25rem;
}

.table-of-contents {
  --ifm-link-decoration: underline;
  font-size: 0.875rem;
}

/* TOC position - below full navbar wrapper */
[class*="tableOfContents"] {
  top: calc(var(--ifm-navbar-height) + var(--neo-spacing_7));
}

@media(min-width: 997px) {
  /* On desktop, account for secondary nav in total navbar height */
  :root {
    --ifm-navbar-height: calc(37px + var(--ifm-secondary-nav-height));
  }

  .theme-doc-sidebar-container {
    --ifm-toc-border-color: var(--ifm-section-divider-color);
  }
}

h1, .markdown h3, .markdown h4 {
  font-weight: bold;
}

/* Colorblind-friendly code highlighting */
:root {
  /* Light theme highlight colors - colorblind accessible */
  --docusaurus-highlighted-code-line-bg: rgba(217, 119, 6, 0.15); /* Darker amber background */
  --docusaurus-highlighted-code-line-border: #d97706; /* Darker amber border */
}

html[data-theme='dark'] {
  /* Dark theme highlight colors - colorblind accessible */
  --docusaurus-highlighted-code-line-bg: rgba(251, 191, 36, 0.2); /* Warm amber background */
  --docusaurus-highlighted-code-line-border: #fbbf24; /* Lighter amber border */
}

/* Docusaurus highlight styles */
.theme-code-block-highlighted-line {
  background-color: var(--docusaurus-highlighted-code-line-bg);
  border-left: 3px solid var(--docusaurus-highlighted-code-line-border);
  display: block;
  margin: 0 calc(-1 * var(--ifm-pre-padding));
  padding: 0 calc(var(--ifm-pre-padding) - 3px) 0 var(--ifm-pre-padding);
}